# Тернатен оператор/ Ternary operator - ?:

Операторът ?: има следния синтаксис:  **(<условие>) ? (<израз1>) : (<израз2>)**

Където <израз1>, <израз2> и <условие> са валидни изрази в C++ и: 
* <израз1> се изпълнява, когато резултата от <условие> е **true**  
* <израз2> се изпълнява, когато резултата от <условие> е **false**

Тернарният оператор, както и всички други оператори, връщат резултат. Резултата, който в случая този оператор връща, е този на съответния изпълнен израз ( <израз1> или <израз2> )


Пример 1:
```
int main(){
    
    int input;
    cout<<"Vuvedete chislo : ";
    cin>>input;

    cout<< "Chisloto e " << ( (input % 2) ? "nechetno!" : "chetno!" )<<endl;

    return 0;
}
```

Примерен изход 1:
```bat
Vuvedete chislo : 5
Chisloto e nechetno
```
Примерен изход 2:
```bat
Vuvedete chislo : 14
Chisloto e chetno
```

В следния примерен код ние въвеждаме число. После на екрана се изписва "Chisloto e " и след това тернарният оператор се изпълнява: първо се извършва условието ( input % 2 )  и след това връща съответния символен низ ("nechetno!" или "chetno!" ).

Обърнете внимание, че, за да получим резултата от оператора е нужно да го оградим със скоби, иначе ще получим грешка.

Също така ако изразите са просто променливи, оператора връща дадената променлива спрямо резултата от условието.


Пример 2:
```
int main(){
    
    int input;
    cout<<"Vuvedete chislo : ";
    cin>>input;

    int negative = INT_MIN, positive = INT_MAX;

    ( (input < 0 ) ? negative : positive ) = input;

    cout<<"negaive = "<<negative<<", positive = "<<positive<<endl;
    return 0;
}
```

Примерен изход 1:
```bat
Vuvedete chislo : 14
negaive = -2147483648, positive = 14
```
Примерен изход 2:
```bat
Vuvedete chislo : -10
negaive = -10, positive = 2147483647
```
Примерен изход 3:
```bat
Vuvedete chislo : 0
negaive = -2147483648, positive = 0
```

В този пример въвеждаме произволно число, записваме  го в input и създаваме две целочислени променливи negative и positive, на които задаваме съответно минималната и максималната стойност, които компилаторът поддържа за int. След това правим проверка, при която ако input е отрцателно, тернарният оператор връща променливата negative и на нея присвояваме стойността на input. Съответно ако input е положилтелно, операторът връща променливата positive и на нея записваме стойността на input. И последно отпечатваме стойностите на negative и positive.

Обаче какво ще се случи ако въведем 0. Понеже 0 не е отрицателно, условието на оператора ?: ще върне false и ще присвоим 0 на positive, което не е коректно т.к. 0 не е нито отрицателно нито положително. Следователно трябва да напраим още една проверка дали input е 0, което ни отвежда до следващата част от урока. А именно вложени тернарни оператори.

Влагането на този оператор е елементарно ( обаче някой път трудно се чете, така че внивайте! )

Пример 3:

```
int main(){

    int input;
    cout<<"Vuvedete chislo";
    cin>>input;

    int negative = INT_MIN, positive = INT_MAX;

    ( (input < 0 ) ? negative : 
        ((input == 0) ? input : positive ))  = input;

    cout<<"negaive = "<<negative<<", positive = "<<positive<<endl;
    return 0;
}
```

В Пример 3 просто модифицирахме кода от Пример 2. Вложихме още един оператор **?:** , когато input не е отрицателен и този път проверяваме дали е 0. Ако е нула просто връщаме променливата input и присвояме нейната стойност на себе си (безсмислено, но го праивим за примера). В противен случай записваме положителното число в positive. Сега модифицирахме кода така, че ако числото е отрицателно го записваме в negative, ако е положително го записваме в positive, а ако е 0 не пипаме нито една променлива.

Ето един пример на реална задача решена с оператора:

*Задача*

По въведени три числа a, b и c да се пресметнат корените на квадратния полином: f(x) = ax^2 + b^x + c

*Решение:*

```
#include <iostream>
#include <cmath>

using namespace std;

int main(){

    float a, b ,c;

    cout<<"a = ";
    cin>>a;

    cout<<"b = ";
    cin>>b;

    cout<<"a = ";
    cin>>c;

    float D = b*b - 4*a*c;

    (D < 0) ? cout<<"Polinoma nqma koreni v realnite chisla " :
                (D == 0 ) ? cout<<"Edin dvoen koren x = "<<(-b)/(2*a) :
                            cout<<"Dva realni korena x1 = "<<(-b - sqrt(D))/(2*a)<<", x2 = "<<(-b + sqrt(D))/(2*a);


    cout<<endl;

    return 0;
}
```

Примерни изходи:
```bat
a = 3
b = 5
a = 1
Dva realni korena x1 = -1.43426, x2 = -0.232408
```
```bat
a = 10
b = 5
a = 2
Polinoma nqma koreni v realnite chisla
```
```bat
a = 4
b = 4
a = 1
Edin dvoen koren x = -0.5
```

*Източници на информация:*
1. https://bg.wikipedia.org/wiki/%D0%A3%D1%81%D0%BB%D0%BE%D0%B2%D0%BD%D0%B0_%D0%BA%D0%BE%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%86%D0%B8%D1%8F_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%B8%D1%80%D0%B0%D0%BD%D0%B5)#%D0%A2%D0%B5%D1%80%D0%BD%D0%B0%D1%80%D0%B5%D0%BD_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80_
2. https://www.geeksforgeeks.org/cc-ternary-operator-some-interesting-observations/